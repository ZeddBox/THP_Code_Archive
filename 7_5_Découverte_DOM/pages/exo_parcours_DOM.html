<!DOCTYPE html>
<html>
  <head>
    <title>Exercice de parcours du DOM</title>
  </head>
  <body>
    <h2>1. Introduction</h2>
    <p>
      En liant un fichier HTML √† un fichier JavaScript, tu vas permettre √† ce
      dernier d'acc√©der au contenu de la page que tu es en train de coder. Et
      l'interface qui permet au fichier <code>.js</code> de faire √ßa s'appelle
      le Document Object Model ou DOM. Ce DOM est, en d√©finitive, le standard du
      web pour acc√©der au contenu HTML d'un fichier.
    </p>
    <p>Et √©videmment, qui dit "acc√©der" dit "modifier" ... ü•≥</p>

    <h2>2. Historique et contexte</h2>
    <p class="compte-moi">
      Maintenant que tu as repris JavaScript en √©crivant √† nouveau des boucles
      et des fonctions dans sa syntaxe, on va voir la principale utilisation de
      ce langage dans le web : manipuler √† sa guise les pages HTML. Comme on te
      l'expliquait, Javascript est le standard, sur Internet, pour animer des
      pages web : faire appara√Ætre/dispara√Ætre des √©l√©ments, changer le CSS,
      modifier le contenu d'√©l√©ments HTML, etc.
    </p>
    <p>
      Pour bien te laisser le temps de ma√Ætriser le DOM, on ne va pas parler
      encore d'√©v√®nements (= r√©agir aux actions de l'utilisateur : clic, appui
      sur une touche, passage de la souris sur un √©l√©ment de la page, etc.).
      Aujourd'hui, on se contente d'apprendre une chose : acc√©der, via le DOM,
      aux √©l√©ments d'une page HTML et les modifier. Let's GO ! üå†
    </p>

    <h2>3. La ressource</h2>
    <p>
      Internet regorge de belles ressources sur le DOM et son fonctionnement. On
      va t'en proposer quelques-unes.
    </p>

    <h3>3.1. Le principe g√©n√©ral de fonctionnement du DOM</h3>
    <p>
      Commence par regarder
      <a href="https://www.youtube.com/watch?v=eY_dlL4iAto" target="_blank"
        >cette courte vid√©o</a
      >
      qui te pr√©sente le principe g√©n√©ral d'utilisation du DOM en JS.
    </p>
    <p>
      Ensuite jette un oeil √†
      <a href="https://youtu.be/iR01DKCgaH8" target="_blank"
        >cette vid√©o de la Khan Academy</a
      >.
    </p>
    <p>
      Gr√¢ce √† ces deux ressources, tu comprends bien qu'il y a 2 √©tapes quand on
      veut modifier un √©l√©ment HTML :
    </p>
    <ol>
      <li>
        <b
          >Le cibler via un selecteur du DOM et le "stocker" dans une variable
          JS</b
        >. <br />
        Par exemple :
        <code
          >let elementsToBeModified = document.getElementsByTagName('p')</code
        >
        pour r√©cup√©rer tous les √©l√©ments paragraphe (tag HTML
        <code>&lt;p></code>). <code>elementsToBeModified</code> contiendra
        plusieurs √©l√©ments du DOM, un peu comme un array.
      </li>
      <li class="compte-moi">
        <b
          >Passer ensuite une m√©thode du DOM sur la variable JS pour modifier
          l'√©l√©ment qu'elle identifie</b
        >. <br />
        Par exemple :
        <code>elementsToBeModified[0].innerHTML = "coucou"</code> pour modifier
        le contenu HTML du premier √©l√©ment <code>&lt;p></code> stock√© dans
        <code>elementsToBeModified</code>.
      </li>
    </ol>
    <p>Voyons ces deux √©tapes plus en d√©tail.</p>

    <h3>3.2. S√©lectionner un √©l√©ment de la page HTML via le DOM</h3>
    <p>
      Il existe plusieurs s√©lecteurs pour pointer vers les √©l√©ments d'une page
      HTML :
    </p>
    <ul>
      <li>
        Lis ce
        <a
          href="https://openclassrooms.com/fr/courses/3306901-creez-des-pages-web-interactives-avec-javascript/3501871-decouvrez-le-dom"
          target="_blank"
          >cours d'OpenClassRooms</a
        >
        qui te pr√©sente les g√©n√©ralit√©s sur le DOM et les s√©lecteurs (pas besoin
        de faire les exercices apr√®s le "En r√©sum√©").
      </li>
      <li class="compte-moi">
        Maintenant passe au
        <a
          href="https://www.w3schools.com/js/js_htmldom_elements.asp"
          target="_blank"
          >tuto W3schools sur les s√©lecteurs</a
        >. Il te pr√©sente diff√©rentes fa√ßons de pointer vers un √©l√©ment
        <b>pr√©cis</b> de ta page.
      </li>
      <li>
        Ensuite,
        <a
          href="https://www.w3schools.com/js/js_htmldom_navigation.asp"
          target="_blank"
          >ce tuto W3Schools</a
        >
        te montre une autre fa√ßon de pointer vers les √©l√©ments d'une page : en
        parcourant le DOM comme une arborescence de noeuds.
      </li>
      <li>
        Retour sur
        <a
          href="https://openclassrooms.com/fr/courses/3306901-creez-des-pages-web-interactives-avec-javascript/3501886-parcourez-le-dom"
          target="_blank"
          >le tuto OpenClassRoom</a
        >
        pour avoir plus de d√©tails par s√©lecteur en t'arr√™tant avant la partie
        "Obtenir des informations sur les √©l√©ments".
      </li>
    </ul>

    <h3>3.3. Modifier les √©l√©ments de la page HTML</h3>
    <p class="compte-moi">
      Une fois un √©l√©ment cibl√©, tu peux modifier de plusieurs fa√ßons la page :
    </p>
    <ul>
      <li>
        Soit en modifiant l'√©l√©ment lui-m√™me (en changeant son code HTML ou ses
        attributs comme <code>src</code> ou <code>href</code>) comme
        <a
          href="https://www.w3schools.com/js/js_htmldom_html.asp"
          target="_blank"
          >expliqu√© ici</a
        >.
      </li>
      <li>
        Soit en changeant son CSS
        <a
          href="https://www.w3schools.com/js/js_htmldom_css.asp"
          target="_blank"
          >comme expliqu√© l√†</a
        >
        (inutile de lire la partie concernant les √©v√®nements : on en parlera
        plus tard).
      </li>
      <li>
        Soit tu peux carr√©ment cr√©er, supprimer ou remplacer des nouveaux
        "noeuds" du DOM
        <a
          href="https://www.w3schools.com/js/js_htmldom_nodes.asp"
          target="_blank"
          >comme le montre W3schools ici</a
        >.
      </li>
    </ul>
    <p>
      Ce
      <a
        href="https://openclassrooms.com/fr/courses/3306901-creez-des-pages-web-interactives-avec-javascript/3501891-modifiez-la-structure-de-la-page"
        target="_blank"
        >cours OpenClassRooms</a
      >
      r√©sume pas mal toutes les modifications que tu peux apporter (inutile de
      faire les exercices √† la fin).
    </p>

    <h2 class="compte-moi">3.4. Pour finir ...</h2>
    <p>
      Cette
      <a
        href="https://www.youtube.com/watch?v=1N5cNqL6PjI&feature=youtu.be"
        target="_blank"
        >vid√©o de la Khan Academy</a
      >
      montre un exemple complet de manipulation du DOM : on s√©lectionne puis on
      modifie !
    </p>
    <p class="compte-moi">
      Dernier point important √† avoir en t√™te : la majorit√© des s√©lecteurs du
      DOM vont te retourner des √©l√©ments HTML ou des Noeuds sous une forme
      proche d'un array mais <b>sans qu'il s'agisse r√©ellement d'array</b>.
      W3Schools explique cela tr√®s bien dans les cours suivants (notamment en
      fin de page) :
    </p>
    <ul>
      <li class="compte-moi">
        <a
          href="https://www.w3schools.com/js/js_htmldom_collections.asp"
          target="_blank"
          >Ici ils parlent des collections HTML</a
        >
        retourn√©es notamment par les s√©lecteurs comme
        <code>getElementsByTagName</code> ou
        <code>getElementsByClassName</code> (ce qui explique le <b>"s"</b> √†
        "Elements").
      </li>
      <li>
        <a
          href="https://www.w3schools.com/js/js_htmldom_nodelist.asp"
          target="_blank"
          >Ici ils parlent des collections de Noeuds</a
        >
        retourn√©es notamment par le s√©lecteur <code>querySelectorAll</code>.
      </li>
    </ul>

    <h2>4. Points importants √† retenir</h2>
    <div>
      <p id="coucou">
        Le DOM est une interface standardis√©e pour acc√©der au contenu HTML d'une
        page.
      </p>
      <h3>4.1. Pour parcourir le DOM</h3>
      <p>
        Voici comment s√©lectionner, via le DOM, un √©l√©ment HTML ou un groupe
        d'√©l√©ments HTML de ton choix :
      </p>
      <ul>
        <li class="compte-moi">
          via son Id CSS : <code>document.getElementById("tableau")</code>
        </li>
        <li>
          via leur tag HTML (ex : &lt;h1>, &lt;p> ou encore &lt;a>) :
          <code>document.getElementsByTagName("div")</code>
        </li>
        <li>
          via leur classe CSS :
          <code>document.getElementsByClassName("title")</code>
        </li>
        <li class="compte-moi">
          via une requ√™te type CSS (m√©langeant tags et class par exemple) :
          <code>document.querySelectorAll("p.title")</code>
        </li>
      </ul>

      <p>
        Une fois un √©l√©ment s√©lectionn√©, on peut naviguer dans le DOM comme au
        sein d'une arborescence en passant entre noeuds "parents" et noeuds
        "enfants". Pour cela, les principales fonctions sont les suivantes (dans
        nos exemples, on les applique √† un √©l√©ment <code>elementFromDOM</code>)
        :
      </p>
      <ul>
        <li style="color: white; font-size: 0.01em;">
          Bien jou√©, tu as trouv√© ce noeud "cach√©" :)
        </li>
        <li>
          Pour remonter au noeud parent, on fait :
          <code>elementFromDOM.parentNode</code>
        </li>
        <li>
          Pour aller au 3√®me noeud enfant, on fait :
          <code>elementFromDOM.childNodes[2]</code>
        </li>
        <li>
          Pour remonter au dernier noeud enfant, on fait :
          <code>elementFromDOM.lastChild</code>
        </li>
        <li>
          Pour passer au prochain "noeud" ayant le m√™me parent, on fait :
          <code>elementFromDOM.nextSibling</code>
        </li>
        <li>
          Pour passer au "noeud" pr√©c√©dent ayant le m√™me parent, on fait :
          <code>elementFromDOM.previousSibling</code>
        </li>
      </ul>
    </div>

    <h3>4.2. Pour modifier le DOM</h3>

    <p>
      Voici quelques exemples d'actions que l'on peut effectuer sur un √©l√©ment
      du DOM (exemples en imaginant que l'√©l√©ment est stock√© avec la variable
      <code>elementFromDOM</code>:
    </p>
    <ul>
      <li>
        Changer le contenu HTML avec
        <code>elementFromDOM.innerHTML = "nouvelle valeur"</code>.
      </li>
      <li class="compte-moi">
        Changer le texte avec
        <code>elementFromDOM.textContent = "nouvelle valeur"</code>.
      </li>
      <li>
        Ajouter ou supprimer une classe CSS avec
        <code>elementFromDOM.classList.add("title")</code> ou
        <code>elementFromDOM.classList.remove("title")</code>.
      </li>
      <li>
        Changer un attribut avec
        <code
          >elementFromDOM.setAttribute("href",
          "http://www.thehackingproject.org")</code
        >.
      </li>
      <li>
        Modifier une propri√©t√© CSS avec
        <code>elementFromDOM.style.font = "nouvelle propriete"</code>, par
        exemple <code>elementFromDOM.style.color = "red"</code>.
      </li>
    </ul>

    <p class="compte-moi">
      Et pour finir voici les principales actions que l'on peut effectuer pour
      modifier la structure de la page HTML :
    </p>
    <ul>
      <li>
        Cr√©er un √©l√©ment HTML avec <code>document.createElement(element)</code>
      </li>
      <li>
        Supprimer un √©l√©ment HTML avec
        <code>document.removeChild(element)</code> ou
        <code>elementFromDOM.remove()</code>
      </li>
      <li>
        Rajouter un √©l√©ment HTML avec<code>document.appendChild(element)</code>
      </li>
      <li>
        Remplacer un √©l√©ment HTML avec
        <code>document.replaceChild(element)</code>
      </li>
    </ul>

    <h2 class="compte-moi">5. Pour aller plus loin</h2>
    <p>
      Tu trouveras une liste assez compl√®te des fonctions disponibles via le DOM
      dans la
      <a
        href="https://developer.mozilla.org/fr/docs/Web/API/Document"
        target="_blank"
        >documentation de Mozilla</a
      >.
    </p>

    <script src="../js/script_parcours_DOM.js"></script>
  </body>
</html>
